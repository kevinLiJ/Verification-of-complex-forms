webpackJsonp([1],{NHnr:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var l=r("7+uW"),n=r("//Fk"),o=r.n(n),i=r("Dd8w"),a=r.n(i),s=r("mvHQ"),u=r.n(s),m={props:["customerType"],data:function(){var e=this;return{ruleForm:{content:"",title:"",targetUrl:""},rules:{content:[{required:!0,message:"请输入内容",trigger:"blur"},{min:3,max:5,message:"长度在 3 到 5 个字符",trigger:"blur"}],title:[{required:!0,message:"请输入主题",trigger:"blur"},{min:3,max:5,message:"长度在 3 到 5 个字符",trigger:"blur"}],targetUrl:[{validator:function(t,r,l){"1"===e.customerType&&""===r?l(new Error("请输入落地页链接")):l()}}]}}},methods:{vaildate:function(){return this.$refs.ruleForm.validate()},getData:function(){return this.ruleForm},resetForm:function(){this.$refs.ruleForm.resetFields()}}},c={render:function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",[r("el-form",{ref:"ruleForm",staticClass:"demo-ruleForm",attrs:{model:e.ruleForm,rules:e.rules,"label-width":"100px",size:"mini"}},[r("el-form-item",{attrs:{label:"主题",prop:"title"}},[r("el-input",{model:{value:e.ruleForm.title,callback:function(t){e.$set(e.ruleForm,"title",t)},expression:"ruleForm.title"}})],1),e._v(" "),r("el-form-item",{attrs:{label:"内容",prop:"content"}},[r("el-input",{model:{value:e.ruleForm.content,callback:function(t){e.$set(e.ruleForm,"content",t)},expression:"ruleForm.content"}})],1),e._v(" "),r("el-form-item",{attrs:{label:"落地页",prop:"targetUrl"}},[r("el-input",{model:{value:e.ruleForm.targetUrl,callback:function(t){e.$set(e.ruleForm,"targetUrl",t)},expression:"ruleForm.targetUrl"}}),e._v(" "),r("span",{staticStyle:{color:"red","font-size":"12px"}},[e._v("C端 落地页链接不是必填")])],1)],1)],1)},staticRenderFns:[]},p=r("VU/8")(m,c,!1,null,null,null).exports,d={render:function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",[r("el-form",{ref:"ruleForm",staticClass:"demo-ruleForm",attrs:{model:e.ruleForm,rules:e.rules,"label-width":"100px",size:"mini"}},[r("el-form-item",{attrs:{label:"内容",prop:"content"}},[r("el-input",{model:{value:e.ruleForm.content,callback:function(t){e.$set(e.ruleForm,"content",t)},expression:"ruleForm.content"}})],1)],1)],1)},staticRenderFns:[]},f=r("VU/8")({data:function(){return{ruleForm:{content:""},rules:{content:[{required:!0,message:"请输入内容",trigger:"blur"},{min:3,max:5,message:"长度在 3 到 5 个字符",trigger:"blur"}]}}},methods:{vaildate:function(){return this.$refs.ruleForm.validate()},getData:function(){return this.ruleForm},resetForm:function(){this.$refs.ruleForm.resetFields()}}},d,!1,null,null,null).exports,F={render:function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",[r("el-form",{ref:"ruleForm",staticClass:"demo-ruleForm",attrs:{model:e.ruleForm,rules:e.rules,"label-width":"100px",size:"mini"}},[r("el-form-item",{attrs:{label:"主题",prop:"title"}},[r("el-input",{model:{value:e.ruleForm.title,callback:function(t){e.$set(e.ruleForm,"title",t)},expression:"ruleForm.title"}})],1),e._v(" "),r("el-form-item",{attrs:{label:"内容",prop:"content"}},[r("el-input",{model:{value:e.ruleForm.content,callback:function(t){e.$set(e.ruleForm,"content",t)},expression:"ruleForm.content"}})],1)],1)],1)},staticRenderFns:[]},v={data:function(){return{indexForm:{type:"1",name:"",customerType:"1"},rules:{name:[{required:!0,message:"请输入活动名称",trigger:"blur"},{min:3,max:5,message:"长度在 3 到 5 个字符",trigger:"blur"}]},typeMap:{1:"message",2:"mail",3:"apppush"},fakeSubmit:{1:function(e){return alert("短信模板创建成功"+u()(e))},2:function(e){return alert("邮件模板创建成功"+u()(e))},3:function(e){return alert("push模板创建成功"+u()(e))}}}},components:{apppush:p,mail:r("VU/8")({data:function(){return{ruleForm:{content:"",title:""},rules:{content:[{required:!0,message:"请输入内容",trigger:"blur"}],title:[{required:!0,message:"请输入主题",trigger:"blur"}]}}},methods:{vaildate:function(){return this.$refs.ruleForm.validate()},getData:function(){return this.ruleForm},resetForm:function(){this.$refs.ruleForm.resetFields()}}},F,!1,null,null,null).exports,message:f},methods:{submitForm:function(){var e=this,t=this.typeMap[this.indexForm.type];this.$refs.indexForm.validate().then(function(r){return e.$refs[t].vaildate()}).then(function(r){var l=a()({},e.$refs[t].getData(),e.indexForm);e.fakeSubmit[e.indexForm.type](l)}).catch(function(e){console.log(e)})},submitForm1:function(){var e=this,t=this.typeMap[this.indexForm.type],r=this.$refs.indexForm.validate(),l=this.$refs[t].vaildate();父子表单一起验证,o.a.all([r,l]).then(function(r){var l=a()({},e.$refs[t].getData(),e.indexForm);e.fakeSubmit[e.indexForm.type](l)}).catch(function(e){console.log(e)})}}},x={render:function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("el-form",{ref:"indexForm",staticClass:"demo-indexForm",staticStyle:{width:"800px",margin:"0 auto"},attrs:{model:e.indexForm,rules:e.rules,"label-width":"100px",size:"mini"}},[r("el-form-item",{attrs:{label:"人群类型",prop:"customerType"}},[r("el-select",{attrs:{placeholder:"请选择人群类型"},model:{value:e.indexForm.customerType,callback:function(t){e.$set(e.indexForm,"customerType",t)},expression:"indexForm.customerType"}},[r("el-option",{attrs:{label:"B端",value:"1"}}),e._v(" "),r("el-option",{attrs:{label:"C端",value:"2"}})],1)],1),e._v(" "),r("el-form-item",{attrs:{label:"类型",prop:"type"}},[r("el-select",{attrs:{placeholder:"请选择类型"},model:{value:e.indexForm.type,callback:function(t){e.$set(e.indexForm,"type",t)},expression:"indexForm.type"}},[r("el-option",{attrs:{label:"短信",value:"1"}}),e._v(" "),r("el-option",{attrs:{label:"邮件",value:"2"}}),e._v(" "),r("el-option",{attrs:{label:"App Push",value:"3"}})],1)],1),e._v(" "),r("el-form-item",{attrs:{label:"名称",prop:"name"}},[r("el-input",{model:{value:e.indexForm.name,callback:function(t){e.$set(e.indexForm,"name",t)},expression:"indexForm.name"}})],1),e._v(" "),"1"===e.indexForm.type?r("message",{ref:"message"}):e._e(),e._v(" "),"2"===e.indexForm.type?r("mail",{ref:"mail"}):e._e(),e._v(" "),"3"===e.indexForm.type?r("apppush",{ref:"apppush",attrs:{customerType:e.indexForm.customerType}}):e._e(),e._v(" "),r("el-form-item",[r("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.submitForm1()}}},[e._v("立即创建")])],1)],1)},staticRenderFns:[]},g={name:"App",components:{index:r("VU/8")(v,x,!1,null,null,null).exports}},h={render:function(){var e=this.$createElement,t=this._self._c||e;return t("div",{attrs:{id:"app"}},[t("index")],1)},staticRenderFns:[]};var b=r("VU/8")(g,h,!1,function(e){r("TeaL")},null,null).exports,_=r("zL8q"),y=r.n(_);r("tvR6");l.default.config.productionTip=!1,l.default.use(y.a),new l.default({el:"#app",components:{App:b},template:"<App/>"})},TeaL:function(e,t){},tvR6:function(e,t){}},["NHnr"]);
//# sourceMappingURL=app.8378bd806e837dc7b965.js.map